---
import { HiArrowRight } from "react-icons/hi";

export interface Props {
  titulo: string;
  descripcion: string;
  imagen: string;
  tecnologias: string[];
  demo: string;
  codigo: string;
  categoria?: string;
  index: number;
}

const {
  titulo,
  descripcion,
  imagen,
  tecnologias,
  demo,
  codigo,
  categoria,
  index,
} = Astro.props;
---

<div
  data-index={index}
  data-categoria={categoria ?? ""}
  class="project-card group relative flex w-[400px] flex-col overflow-hidden rounded-2xl bg-slate-900/50 backdrop-blur-md border border-white/10 shadow-xl transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_20px_rgba(6,182,212,0.15)] lg:w-[320px]"
>
  <div
    class="absolute inset-0 bg-gradient-to-br from-[var(--color-primary)]/10 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100 pointer-events-none"
  >
  </div>

  <img
    src={imagen}
    alt={`Imagen del proyecto ${titulo}`}
    class="aspect-video w-full object-cover object-top transition-transform duration-500 group-hover:scale-105"
  />

  <div class="relative flex grow flex-col p-5">
    <h3
      class="text-xl font-bold text-white mb-2 group-hover:text-[var(--color-primary)] transition-colors"
    >
      {titulo}
    </h3>

    <div class="my-2 flex flex-wrap gap-2">
      {
        tecnologias.map((tech) => (
          <span class="rounded-full bg-[var(--color-primary)]/10 border border-[var(--color-primary)]/20 text-[var(--color-primary)] px-2.5 py-0.5 text-xs font-semibold">
            {tech}
          </span>
        ))
      }
    </div>

    <p class="mt-2 text-sm text-gray-400 leading-relaxed line-clamp-3">
      {descripcion}
    </p>

    <div
      class="mt-6 flex items-center justify-between pt-4 border-t border-white/5"
    >
      <a
        class="flex items-center gap-1.5 text-sm font-semibold text-white hover:text-[var(--color-primary)] transition-colors"
        target="_blank"
        rel="noopener noreferrer"
        href={demo}
      >
        Live Demo
        <HiArrowRight
          className="transition-transform group-hover:translate-x-1"
        />
      </a>

      <a
        class="flex items-center gap-1.5 text-sm font-semibold text-gray-400 hover:text-white transition-colors"
        href={codigo}
        target="_blank"
        rel="noopener noreferrer"
      >
        GitHub
      </a>
    </div>
  </div>
</div>
